import{l as q,n as _,k as O,a as B,m as $,o as S,c as N,p as R}from"./swiper-core-cvm0uL9O.js";import{c as W}from"./create-element-if-not-defined-SPqH_tlK.js";import{c as j}from"./classes-to-selector-VdVF7oEL.js";function U(k){let{swiper:e,extendParams:Y,on:v,emit:x}=k;const H=q();Y({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let E,C=O(),T;const c=[];function u(t){let b=0,d=0,i=0,f=0;return"detail"in t&&(d=t.detail),"wheelDelta"in t&&(d=-t.wheelDelta/120),"wheelDeltaY"in t&&(d=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(b=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(b=d,d=0),i=b*10,f=d*10,"deltaY"in t&&(f=t.deltaY),"deltaX"in t&&(i=t.deltaX),t.shiftKey&&!i&&(i=f,f=0),(i||f)&&t.deltaMode&&(t.deltaMode===1?(i*=40,f*=40):(i*=800,f*=800)),i&&!b&&(b=i<1?-1:1),f&&!d&&(d=f<1?-1:1),{spinX:b,spinY:d,pixelX:i,pixelY:f}}function w(){e.enabled&&(e.mouseEntered=!0)}function P(){e.enabled&&(e.mouseEntered=!1)}function M(t){return e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&O()-C<e.params.mousewheel.thresholdTime?!1:t.delta>=6&&O()-C<60?!0:(t.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),x("scroll",t.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),x("scroll",t.raw)),C=new H.Date().getTime(),!1)}function A(t){const o=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&o.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&o.releaseOnEdges)return!0;return!1}function D(t){let o=t,z=!0;if(!e.enabled||t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const y=e.params.mousewheel;e.params.cssMode&&o.preventDefault();let b=e.el;e.params.mousewheel.eventsTarget!=="container"&&(b=document.querySelector(e.params.mousewheel.eventsTarget));const d=b&&b.contains(o.target);if(!e.mouseEntered&&!d&&!y.releaseOnEdges)return!0;o.originalEvent&&(o=o.originalEvent);let i=0;const f=e.rtlTranslate?-1:1,m=u(o);if(y.forceToAxis)if(e.isHorizontal())if(Math.abs(m.pixelX)>Math.abs(m.pixelY))i=-m.pixelX*f;else return!0;else if(Math.abs(m.pixelY)>Math.abs(m.pixelX))i=-m.pixelY;else return!0;else i=Math.abs(m.pixelX)>Math.abs(m.pixelY)?-m.pixelX*f:-m.pixelY;if(i===0)return!0;y.invert&&(i=-i);let s=e.getTranslate()+i*y.sensitivity;if(s>=e.minTranslate()&&(s=e.minTranslate()),s<=e.maxTranslate()&&(s=e.maxTranslate()),z=e.params.loop?!0:!(s===e.minTranslate()||s===e.maxTranslate()),z&&e.params.nested&&o.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const a={time:O(),delta:Math.abs(i),direction:Math.sign(i),raw:t};c.length>=2&&c.shift();const l=c.length?c[c.length-1]:void 0;if(c.push(a),l?(a.direction!==l.direction||a.delta>l.delta||a.time>l.time+150)&&M(a):M(a),A(a))return!0}else{const a={time:O(),delta:Math.abs(i),direction:Math.sign(i)},l=T&&a.time<T.time+500&&a.delta<=T.delta&&a.direction===T.direction;if(!l){T=void 0;let r=e.getTranslate()+i*y.sensitivity;const n=e.isBeginning,h=e.isEnd;if(r>=e.minTranslate()&&(r=e.minTranslate()),r<=e.maxTranslate()&&(r=e.maxTranslate()),e.setTransition(0),e.setTranslate(r),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!n&&e.isBeginning||!h&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:a.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(E),E=void 0,c.length>=15&&c.shift();const g=c.length?c[c.length-1]:void 0,p=c[0];if(c.push(a),g&&(a.delta>g.delta||a.direction!==g.direction))c.splice(0);else if(c.length>=15&&a.time-p.time<500&&p.delta-a.delta>=1&&a.delta<=6){const G=i>0?.8:.2;T=a,c.splice(0),E=_(()=>{e.slideToClosest(e.params.speed,!0,void 0,G)},0)}E||(E=_(()=>{T=a,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(l||x("scroll",o),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),y.releaseOnEdges&&(r===e.minTranslate()||r===e.maxTranslate()))return!0}}return o.preventDefault?o.preventDefault():o.returnValue=!1,!1}function I(t){let o=e.el;e.params.mousewheel.eventsTarget!=="container"&&(o=document.querySelector(e.params.mousewheel.eventsTarget)),o[t]("mouseenter",w),o[t]("mouseleave",P),o[t]("wheel",D)}function L(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",D),!0):e.mousewheel.enabled?!1:(I("addEventListener"),e.mousewheel.enabled=!0,!0)}function X(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,D),!0):e.mousewheel.enabled?(I("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}v("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&X(),e.params.mousewheel.enabled&&L()}),v("destroy",()=>{e.params.cssMode&&L(),e.mousewheel.enabled&&X()}),Object.assign(e.mousewheel,{enable:L,disable:X})}function Z(k){let{swiper:e,extendParams:Y,on:v,emit:x}=k;const H=B();let E=!1,C=null,T=null,c,u,w,P;Y({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function M(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:s,rtlTranslate:a}=e,{dragEl:l,el:r}=s,n=e.params.scrollbar,h=e.params.loop?e.progressLoop:e.progress;let g=u,p=(w-u)*h;a?(p=-p,p>0?(g=u-p,p=0):-p+u>w&&(g=w+p)):p<0?(g=u+p,p=0):p+u>w&&(g=w-p),e.isHorizontal()?(l.style.transform=`translate3d(${p}px, 0, 0)`,l.style.width=`${g}px`):(l.style.transform=`translate3d(0px, ${p}px, 0)`,l.style.height=`${g}px`),n.hide&&(clearTimeout(C),r.style.opacity=1,C=setTimeout(()=>{r.style.opacity=0,r.style.transitionDuration="400ms"},1e3))}function A(s){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${s}ms`)}function D(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:s}=e,{dragEl:a,el:l}=s;a.style.width="",a.style.height="",w=e.isHorizontal()?l.offsetWidth:l.offsetHeight,P=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=w*P:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a.style.width=`${u}px`:a.style.height=`${u}px`,P>=1?l.style.display="none":l.style.display="",e.params.scrollbar.hide&&(l.style.opacity=0),e.params.watchOverflow&&e.enabled&&s.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function I(s){return e.isHorizontal()?s.clientX:s.clientY}function L(s){const{scrollbar:a,rtlTranslate:l}=e,{el:r}=a;let n;n=(I(s)-R(r)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(w-u),n=Math.max(Math.min(n,1),0),l&&(n=1-n);const h=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*n;e.updateProgress(h),e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}function X(s){const a=e.params.scrollbar,{scrollbar:l,wrapperEl:r}=e,{el:n,dragEl:h}=l;E=!0,c=s.target===h?I(s)-s.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,s.preventDefault(),s.stopPropagation(),r.style.transitionDuration="100ms",h.style.transitionDuration="100ms",L(s),clearTimeout(T),n.style.transitionDuration="0ms",a.hide&&(n.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),x("scrollbarDragStart",s)}function t(s){const{scrollbar:a,wrapperEl:l}=e,{el:r,dragEl:n}=a;E&&(s.preventDefault?s.preventDefault():s.returnValue=!1,L(s),l.style.transitionDuration="0ms",r.style.transitionDuration="0ms",n.style.transitionDuration="0ms",x("scrollbarDragMove",s))}function o(s){const a=e.params.scrollbar,{scrollbar:l,wrapperEl:r}=e,{el:n}=l;E&&(E=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),a.hide&&(clearTimeout(T),T=_(()=>{n.style.opacity=0,n.style.transitionDuration="400ms"},1e3)),x("scrollbarDragEnd",s),a.snapOnRelease&&e.slideToClosest())}function z(s){const{scrollbar:a,params:l}=e,r=a.el;if(!r)return;const n=r,h=l.passiveListeners?{passive:!1,capture:!1}:!1,g=l.passiveListeners?{passive:!0,capture:!1}:!1;if(!n)return;const p=s==="on"?"addEventListener":"removeEventListener";n[p]("pointerdown",X,h),H[p]("pointermove",t,h),H[p]("pointerup",o,g)}function y(){!e.params.scrollbar.el||!e.scrollbar.el||z("on")}function b(){!e.params.scrollbar.el||!e.scrollbar.el||z("off")}function d(){const{scrollbar:s,el:a}=e;e.params.scrollbar=W(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const l=e.params.scrollbar;if(!l.el)return;let r;if(typeof l.el=="string"&&e.isElement&&(r=e.el.querySelector(l.el)),!r&&typeof l.el=="string"){if(r=H.querySelectorAll(l.el),!r.length)return}else r||(r=l.el);e.params.uniqueNavElements&&typeof l.el=="string"&&r.length>1&&a.querySelectorAll(l.el).length===1&&(r=a.querySelector(l.el)),r.length>0&&(r=r[0]),r.classList.add(e.isHorizontal()?l.horizontalClass:l.verticalClass);let n;r&&(n=r.querySelector(j(e.params.scrollbar.dragClass)),n||(n=N("div",e.params.scrollbar.dragClass),r.append(n))),Object.assign(s,{el:r,dragEl:n}),l.draggable&&y(),r&&r.classList[e.enabled?"remove":"add"](...S(e.params.scrollbar.lockClass))}function i(){const s=e.params.scrollbar,a=e.scrollbar.el;a&&a.classList.remove(...S(e.isHorizontal()?s.horizontalClass:s.verticalClass)),b()}v("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const s=e.params.scrollbar;let{el:a}=e.scrollbar;a=$(a),a.forEach(l=>{l.classList.remove(s.horizontalClass,s.verticalClass),l.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass)})}),v("init",()=>{e.params.scrollbar.enabled===!1?m():(d(),D(),M())}),v("update resize observerUpdate lock unlock changeDirection",()=>{D()}),v("setTranslate",()=>{M()}),v("setTransition",(s,a)=>{A(a)}),v("enable disable",()=>{const{el:s}=e.scrollbar;s&&s.classList[e.enabled?"remove":"add"](...S(e.params.scrollbar.lockClass))}),v("destroy",()=>{i()});const f=()=>{e.el.classList.remove(...S(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...S(e.params.scrollbar.scrollbarDisabledClass)),d(),D(),M()},m=()=>{e.el.classList.add(...S(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...S(e.params.scrollbar.scrollbarDisabledClass)),i()};Object.assign(e.scrollbar,{enable:f,disable:m,updateSize:D,setTranslate:M,init:d,destroy:i})}export{U as M,Z as S};
